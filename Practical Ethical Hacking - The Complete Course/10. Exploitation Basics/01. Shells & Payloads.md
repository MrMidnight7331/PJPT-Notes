# Shells & Payloads
> 23.12.2023
---

### Reverse Shell VS Bind Shell:

**Payload Execution:**
- `RS:` The attacker injects or uploads a piece of code (often a shell script or executable) onto the target system. This code is designed to connect back to the attacker's machine.

- `BS:`The attacker injects or uploads a piece of code onto the target system. This code is designed to connect to the specified IP address and port on the attacker's machine.

**Connection Establishment:**
- `RS:`The code on the target system starts a network connection to the specified IP address and port on the attacker's machine.
- `BS:`When the injected code runs on the target system, it establishes a connection to the waiting service on the attacker's machine.

**Interactive Shell:**
- `RS:`Once the connection is established, the attacker gains control over the target system and can interact with it through a command shell. This allows the attacker to execute commands on the compromised system as if they were physically present.
- `BS:`Once the connection is established, the attacker gains control over the target system and can interact with it through a command shell.

**Usage:**
- `RS:`Reverse shells are commonly used when the target system is behind a firewall, and incoming connections are restricted. By having the target system initiate the connection, the attacker can bypass certain network security measures.
- `BS:`Bind shells are useful when the target system can make outgoing connections, but incoming connections are restricted. This allows the attacker to set up a service that waits for the target to connect to it.


### Staged Payloads:

**Initial Stage:**
- The attacker delivers a smaller and relatively simple payload to the target system. This initial payload is responsible for establishing a connection back to the attacker's machine.

**Second Stage:**
- Once the connection is established, the attacker sends a second, more complex payload. This payload is usually larger and contains the actual malicious code or exploit.

**Advantages:**
- Staged payloads are often used when there are limitations on the size of the initial payload that can be delivered. This could be due to network constraints or security measures that may detect large or suspicious data transfers.

**Disadvantages:**
- The staged approach introduces some latency as it requires multiple steps. Additionally, if the first stage is detected and blocked, the attack may be thwarted before the more sophisticated second stage is delivered.

### Non-Staged Payloads:

**Delivery:**
- The attacker sends a single, comprehensive payload to the target system.

**Execution:**
- Upon execution of the payload, it performs all necessary tasks, including establishing a connection back to the attacker's machine and executing the intended malicious actions.

**Advantages:**
- Non-staged payloads are often simpler to implement and can be more straightforward. They reduce the latency associated with staged payloads since all malicious activities are contained in a single payload.

**Disadvantages:**
- Larger payloads may be more easily detected by security measures. Additionally, if the initial payload is blocked, the entire attack may be thwarted.